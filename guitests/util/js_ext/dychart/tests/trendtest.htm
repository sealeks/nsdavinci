<?xml version="1.0" encoding="UTF-8"?>
<html>



    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7; IE=EmulateIE9">

        <script type="text/javascript" src="../dygraph-dev.js"></script>
        
        <script type="text/javascript">
        <!--
        function initform() {
            registratetrend("testtrenddiv", "r1::a");
            registratetrend("testtrenddiv1", "r6::a");}
        
        function registratetrend(elem, tag) {
            var eltr = document.getElementById(elem);
            if (eltr!=null) {
                eltr.setAttribute('desc', tag);
                eltr.ontrend= testontrend;};}
            
 
        
            function testontrend(ev) {
              
                if (ev && (ev.length==2)){
                var ev0=ev[0];
                var elem=ev0.target;
                var datatrend=ev[1];
                if ((elem!=null) && (datatrend!=null)){
                   var cld=elem.children[0];
                   if (cld.chart==null){
                        var dt = [];
                        var cnt = datatrend.length>1000 ? 1000 : datatrend.length;
 			    for (i = cnt; i >= 1; i--) { 
				  dt.push([ new Date(datatrend[datatrend.length-i][0] - 1000* 3600* 4),
					    (datatrend[datatrend.length-i][1])
                                  ]);} 
                        cld.data=dt;            
			cld.chart =new Dygraph(cld, dt,
                          {
                            drawPoints: false,
                            showRoller: false,
                            valueRange: [0.0, 100.0],
                            labels: ['Time', 'Random']
                          });
                          
                          
			//cld.chart.updateOptions( { 'file': elem.data } )	
			//l=iiii[0];	
                       // };                      
                   }
                   else {
                       cld.data.push([ new Date(datatrend[0][0] - 1000* 3600* 4), datatrend[0][1]]);
                       cld.chart.updateOptions( { 'file': cld.data  } );
                       
                     // var series = elem.chart.series[0];
                      //l=iiii[0];
                     // series.addPoint([(datatrend[0][0] - 1000* 3600* 4), datatrend[0][1]], true, true);
                      
                   }
                //elem.ontrend= testontrend;
                }}}


		                    
                        
        </script>
    </head>
    <body onload="initform()">
        <div>
        <!--div> #{ format(r1::a, '%8.1f') }</div-->
        <div id="testtrenddiv">
        <div id="testtrenddiv_" style="width: 600px; height: 300px; margin: 0 auto"></div>
        </div>
        </div>
        <div>
        <!--div> #{ format(r6::a, '%8.1f') }</div-->
        <div id="testtrenddiv1">
        <div id="testtrenddiv1_" style="width: 600px; height: 300px; margin: 0 auto"></div>
        </div>
        </div>
    </body>
</html>